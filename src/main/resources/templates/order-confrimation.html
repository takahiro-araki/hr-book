<!doctype html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>Engineer Ability Sheet</title>

<link rel="stylesheet" th:href="@{/css/lib/solid.min.css}">
<link rel="stylesheet" th:href="@{/css/lib/brands.min.css}">
<link rel="stylesheet" th:href="@{/css/lib/fontawesome.min.css}">

<link rel="stylesheet" th:href="@{/css/base.css}">
<link rel="stylesheet" th:href="@{/css/ability.css}">

<script th:src="@{/js/lib/jquery-3.3.1.min.js}"></script>
<script th:src="@{/js/lib/popper.min.js}"></script>
<script th:src="@{/js/lib/tooltip.min.js}"></script>
<script th:src="@{/js/main.js}"></script>

</head>
<body>
<form method="post" th:action="@{/insert-skills}" enctype="multipart/form-data" th:object="${inputSkillForm}">
	<div class="container">
	<div id="userField">
		<div class="members"></div>
		<div class="main-contents">

			<div class="box ability-box" style="">
				<div class="profile">
					<div class="row">
						<div class="col">
							<input type="hidden" th:value="${form.empId}" name="empId"> 
							<div th:text="${human.humanName}" class="name row">エンジニア太郎</div>
							<input type="hidden" th:value="${human.humanName}" name="humanName"> 
							<div th:text="'アサイン先 : '+${human.assignCompanyName}"
								class="belong-to row" name="assignCompanyName">株式会社エンジニア</div>
							<input type="hidden" th:value="${human.assignCompanyName}" name="assignCompanyName"> 
							<div
								th:text="'入社日 : ' +${#dates.format(human.joinDate, 'yyyy年MM月dd日')}"
								class="title row" name="joinDate">yyyy年MM月dd日</div>
							<input type="hidden" th:value="${form.joinDate}" name="joinDate">
						</div>
						<div class="col">
							<img class="avatar" th:src="${human.iconImg}">
						</div>
					</div>
				</div>

				<div class="point-skills" th:each="preHumanBaseSkill:${preHumanBaseSkillList}"
					th:object="${preHumanBaseSkill}" name="baseSkills">
					<div class="point-skill">
						<div class="skill-name" th:text="${preHumanBaseSkill.baseSkill.baseSkillName}">プログラム</div>
						<input type="hidden" th:value="${preHumanBaseSkill.baseSkill.baseSkillId}" name="baseSkillIds"> 
						<div th:class="'skill-score score-' + ${preHumanBaseSkill.getRank()}" th:text="${#strings.toUpperCase(preHumanBaseSkill.getRank())}">R</div>
						<div class="skill-point" th:text="${preHumanBaseSkill.baseSkillScore}">100</div>
						<input type="hidden" th:value="${preHumanBaseSkill.baseSkillScore}" name="baseSkillScores"> 
					</div>
				</div>

				<div class="abilities">
					<div class="numerical-abilities" id="sample1">
						<div th:each="preHumanCommonSkill:${preHumanCommonSkillList}"
							th:class="'numerical-ability level-'+${preHumanCommonSkill.commonSkillScore}"
							th:object="${preHumanCommonSkill}" name="preHumanCommonSkillList">
							<div class="ability-name" th:text="${preHumanCommonSkill.commonSkill.commonSkillName}">対障害</div>
							<input type="hidden" th:value="${preHumanCommonSkill.commonSkill.commonSkillId}" name="commonSkillIds">
							<div class="ability-value" th:text="${preHumanCommonSkill.commonSkillScore}">5</div>
							<input type="hidden" th:value="${preHumanCommonSkill.commonSkillScore}" name="commonSkillScores">
							<div class="tooltips" th:text="${preHumanCommonSkill.commonSkill.description}"></div>
						</div>
					</div>
					<div class="special-abilities">
						<div th:class="'special-ability sub-skill-' + ${preHumanSubSkill.subSkill.subSkillStatusType}"
							th:each="preHumanSubSkill:${preHumanSubSkillList}" th:object="${spreHumanSubSkill}" name="preHumanSubSkillList">
							<div class="ability-name" th:text="${preHumanSubSkill.subSkill.subSkillName}">test</div>
							<input type="hidden" th:value="${preHumanSubSkill.subSkill.subSkillId}" name="subSkillIds">
							<div class="tooltips" th:text="${preHumanSubSkill.subSkill.description}"></div>
						</div>
					</div>
				</div>
				<div th:if=${form.iconImg}>
				<input type="hidden" th:value="${form.iconImg.getBytes()}" name="iconImageByte">
				<input type="hidden" th:value="${form.iconImg.getOriginalFilename()}" name="iconImageName"> 
				</div>
				<!-- <input type="hidden" th:value="${form.baseSkillIds}" name="baseSkillIds">  -->
				<input type="hidden" th:value="${form.baseSkillScores}" name="baseSkillScores"> 
				<!-- <input type="hidden" th:value="${form.commonSkillIds}" name="commonSkillIds">  -->
				<input type="hidden" th:value="${form.commonSkillScores}" name="commonSkillScores">
				<input type="hidden" th:value="${partialPath}" name="partialPath">  
				<!-- <input type="hidden" th:value="${form.subSkillIds}" name="subSkillIds">  -->
			</div>

		</div>
	</div>
	</div>

	<hr> 
		<button>申請する</button>
	</form>

	<div class="ajax-modal" style="display: none;">
		<img class="loader" src="/hr-book/img/ajax-loader.gif">
	</div>
</body>
</html>